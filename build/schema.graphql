type User @entity {
  id: ID!
  tokens: [Token!]! @derivedFrom(field: "owner")
  patreon: [Patreon!]! @derivedFrom(field: "subscriber")
  transaction: [Transaction!]! @derivedFrom(field: "address")
}

type Token @entity {
  id: ID!
  tokenId: BigInt!
  metadataURI: String!
  createdAtTimestamp: BigInt!
  lastBlockNumber: BigInt!
  owner: User!
  latestPrice: BigInt!
}

type Transaction @entity(immutable: true) {
  id: ID!
  tokenId: BigInt!
  address: User!
  activity: String! # Buy | Sell
  amount: BigInt!
  blockNumber: BigInt!
}

type Patreon @entity {
  id: ID!
  subscriber: User!
  tokenId: BigInt!
  totalAmount: BigInt!
}
